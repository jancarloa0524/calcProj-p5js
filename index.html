<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <style>
            /* CSS */
        </style>
        
        <title>P5JS Calculus Project</title>
    </head>
    <body>
        <!-- HTML -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
        <script>
            // JS
            let step = 0
            let nums
            let equations
            let explanation
            let linePos

            function setup() {
                createCanvas(800, 600)
                equations = ["∠ABG ≅ ∠CDG, AB ≅ CD, AF ≅ EC", "BGD ≅ BGD", "ΔABD ≅ ΔDCB", "AD ≅ BC", "∠CBD ≅ ∠ADB", "BE ≅ FD", "∠BGE ≅ ∠FGD", "ΔBEG ≅ ΔDFG", "EG ≅ FG"]
                explanation = ["Given", "Reflexive Property", "Side-Angle-Side", "Corresponding Parts of Congruent Triangles are Congruent", "Corresponding Parts of Congruent Triangles are Congruent", "Subtract EC from BC and AF from AD", "Vertical angles are congruent", "Angle-Angle-Side", "Corresponding Parts of Congruent Triangles are Congruent"]
                linePos = [330, 250, 280, 220, 280, 220, 280, 280, 220]
            }

            function draw() {
                // set-up
                strokeWeight(0.4)
                background("white")
                stroke("black")
                fill("black")
                //table
                line(80,10,80,200)
                line(linePos[step], 10, linePos[step], 200)
                line(10, 45, 700, 45)
                // text
                textSize(25)
                textAlign(CENTER)
                text("Step", 35, 35)
                text("Statement", 150, 35)
                text("Explanation", linePos[step] + 80, 35)
                textAlign(LEFT)
                text(step + 1, 35, 90)
                text(equations[step], 100, 70, 223, 100)
                text(explanation[step], linePos[step] + 10, 70, 450, 200)
                
                
                // shape
                strokeWeight(2)
                fill("red")
                text("A", 80, 510)
                text("B", 180, 305)
                text("C", 605, 305)
                text("D", 505, 510)
                text("E", 440, 295) 
                text("F", 245, 523)
                fill("white")
                quad(200,300,  600,300,  500,500,  100,500 )
                line(200, 300, 500, 500)
                // angle ABG congruent to angle CDG
                // AB congruent to CD
                stroke("red")
                line(135, 395, 165, 405)
                line(535, 395, 565, 405)
                noFill()
                arc(200, 300, 50, 50, 3.14/5, 3.14/1.5)
                arc(500, 500, 50, 50, 3.14*1.2,3.14*1.65)
                if (step == 0 || step >= 5) {
                    stroke("black")
                    line(450, 300, 250, 500)
                    stroke("red")
                    // AF congruent to EC
                    line(175, 485, 175, 515)
                    line(185, 485, 185, 515)
                    line(525, 285, 525, 315)
                    line(535, 285, 535, 315)
                    if (step >= 4) {
                        // angle CBD congruent to angle ADB
                        arc(200, 300, 60, 60, 0, 3.14/5)
                        arc(200, 300, 70, 70, 0, 3.14/5)
                        arc(500, 500, 60, 60, 3.14, 3.14*1.2)
                        arc(500, 500, 70, 70, 3.14, 3.14*1.2)
                        if (step >= 5) {
                            // BE congruent to FD
                            line(330, 285, 330, 315)
                            line(320, 285, 320, 315)
                            line(310, 285, 310, 315)
                            line(373, 485, 373, 515)
                            line(383, 485, 383, 515)
                            line(393, 485, 393, 515)
                            if (step >= 6) {
                                // angle BGE is congruent to angle FGD
                                arc(350, 400, 50, 50, 3.14*1.2, 3.14*1.75)
                                arc(350, 400, 60, 60, 3.14*1.2, 3.14*1.75)
                                arc(350, 400, 70, 70, 3.14*1.2, 3.14*1.75)
                                arc(350, 400, 50, 50, 3.14/5, 3.14/1.35)
                                arc(350, 400, 60, 60, 3.14/5, 3.14/1.35)
                                arc(350, 400, 70, 70, 3.14/5, 3.14/1.35)
                                if (step == 7) {
                                    stroke("green")
                                    triangle(200, 300, 350, 400, 450, 300)
                                    stroke("blue")
                                    triangle(500, 500, 250, 500, 350, 400)
                                }
                                if (step == 8) {
                                        // EG is congruent to FG
                                        stroke("green")
                                        line(380, 340, 420, 360)
                                        line(390, 335, 430, 355)
                                        line(400, 330, 440, 350)
                                        line(410, 325, 450, 345)
                                        line(270, 450, 310, 470)
                                        line(280, 445, 320, 465)
                                        line(290, 440, 330, 460)
                                        line(300, 435, 340, 455)
                                        text("Solved!", 350, 200)
                                    }
                            }
                        }
                    }
                    stroke("black")
                    fill("red")
                    text("G", 370, 405)
                } else if (step >= 1) {
                    // BGD congruent to itself
                    line(345, 415, 365, 390)
                    line(335, 410, 355, 385)
                    if (step == 2) {
                        stroke("green")
                        line(200, 300, 600, 300)
                        line(600, 300, 500, 500)
                        stroke("blue")
                        line(500, 500, 100, 500)
                        line(100, 500, 200, 300)
                    } else if (step >= 3) {
                        // AD congruent to BC
                        line(400, 285, 400, 315)
                        line(390, 285, 390, 315)
                        line(410, 285, 410, 315)
                        line(300, 485, 300, 515)
                        line(290, 485, 290, 515)
                        line(310, 485, 310, 515)
                        if (step == 4) {
                            // angle CBD congruent to angle ADB
                            arc(200, 300, 60, 60, 0, 3.14/5)
                            arc(200, 300, 70, 70, 0, 3.14/5)
                            arc(500, 500, 60, 60, 3.14, 3.14*1.2)
                            arc(500, 500, 70, 70, 3.14, 3.14*1.2)
                        }
                    }
                } 
            }

            function keyPressed() {
                if (keyCode == RIGHT_ARROW && step < 8) {
                    step++
                }
                if (keyCode == LEFT_ARROW && !(step <= 0)) {
                    step--
                }
            }
            
        </script>
    </body>
</html>
